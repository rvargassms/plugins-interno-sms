tinymce.PluginManager.add('highlighter', function(editor, url) {
    // Adds a menu item to the tools menu
    editor.addMenuItem('highlighter', {
        text: 'Estilos de recuadro',
        context: 'tools',
        onclick: function() {
            // Open window with a specific url
            editor.windowManager.open({
                title: 'Estilos de recuadro',
                body: [
                    {type: 'listbox',
                    name: 'custom-styles',
                    label: 'Predeterminados',
                    'values': [
                        {text: 'Importante', value: 'mceCustomOSDEImportant'},
                        {text: 'Advertencia', value: 'mceCustomOSDEAdv'},
                        {text: 'Registraci√≥n', value: 'mceCustomOSDERegistration'},
                        {text: 'Canales Habilitados', value: 'mceCustomOSDEChanels'}
                    ]}
                ],
                width: 500,
                height: 100,
                buttons: [{
                    text: 'Aplicar',
                    onclick: 'submit'
                }],
                onsubmit: function(e){
                    var content = tinymce.activeEditor.selection.getContent({format : 'html'})
                    tinymce.execCommand('mceReplaceContent',false,'<div class="'+e.data['custom-styles']+'">'+content+'</div><p></p>');
                }
            });
        }
    })
});